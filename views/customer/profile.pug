extends ../layout

block content
  .auth-form-wrapper.row.justify-content-center.align-items-center.flex-grow-1
    .col-md-6.col-lg-5
      .home-content-box
        h1.mb-3= title

        //- Toon een succesmelding als die er is
        if success
          .alert.alert-success= success

        //- Toon een foutmelding als die er is
        if error
          .alert.alert-danger= error

        form(method="POST", action="/customers/profile/update")
          .mb-3
            label.form-label(for="firstName") First name
            input.form-control(type="text", id="firstName", name="firstName", value=customer.first_name, required)
          .mb-3
            label.form-label(for="lastName") Last name
            input.form-control(type="text", id="lastName", name="lastName", value=customer.last_name, required)
          .mb-3
            label.form-label(for="email") E-mail address
            input.form-control(type="email", id="email", name="email", value=customer.email, required)

          button.btn.btn-primary(type="submit") Update Profile
        
        hr.my-4

        //- SECTIE VOOR ACCOUNT VERWIJDEREN
        div
          h5 Danger Zone
          p.text-muted Once you delete your account, there is no going back. Please be certain.
          //- Knop die de modal opent
          button.btn.btn-danger(type="button", data-bs-toggle="modal", data-bs-target="#confirmDeleteModal") Delete Account

  //- DE MODAL VOOR BEVESTIGING (buiten de .home-content-box)
  #confirmDeleteModal.modal.fade(tabindex="-1", aria-labelledby="confirmDeleteModalLabel", aria-hidden="true")
    .modal-dialog
      .modal-content
        .modal-header
          h5.modal-title#confirmDeleteModalLabel Are you absolutely sure?
          button.btn-close(type="button", data-bs-dismiss="modal", aria-label="Close")
        .modal-body
          p This action cannot be undone. This will permanently delete your account and all associated data, including your watchlist.
        .modal-footer
          button.btn.btn-secondary(type="button", data-bs-dismiss="modal") Cancel
          //- Het formulier dat de delete actie uitvoert
          form(method="POST", action="/customers/profile/delete")
            button.btn.btn-danger(type="submit") Yes, delete my account

